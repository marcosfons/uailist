query GetSupermarkets($lastSyncedAt: timestamptz!) {
  supermarket(where: {updated_at: {_gt: $lastSyncedAt}}) {
    uuid
    updated_at
    name
    latitude
    longitude
    image_url
    created_at
    address
  }
}

mutation UpsertSupermarkets($supermarkets: [supermarket_insert_input!]!) {
  insert_supermarket(objects: $supermarkets, on_conflict: {constraint: supermarket_pkey, update_columns: [name, image_url, address, latitude, longitude]}) {
    affected_rows
  }
}

mutation AppChangeSupermarketImageUrl($uuid: uuid!, $newImageUrl: String!){
update_supermarket_by_pk(pk_columns:{
  uuid: $uuid
},_set:{
  image_url: $newImageUrl
}){
  image_url
}
}
